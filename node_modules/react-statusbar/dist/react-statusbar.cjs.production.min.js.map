{"version":3,"file":"react-statusbar.cjs.production.min.js","sources":["../src/cls.ts","../src/Statusbar/Dropdown.tsx","../src/Statusbar/index.tsx","../src/Statusbar/Button.tsx","../src/Statusbar/Label.tsx","../src/Statusbar/Progress.tsx"],"sourcesContent":["export function cls(\n  ...classNames: (string | Record<string, boolean> | undefined | null)[]\n) {\n  let result = '';\n\n  for (const item of classNames) {\n    if (!item) {\n      continue;\n    }\n\n    if (typeof item === 'string') {\n      result += item + ' ';\n      continue;\n    }\n\n    for (const key of Object.keys(item)) {\n      if (item[key] === true) {\n        result += key + ' ';\n      }\n    }\n  }\n\n  return result;\n}\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport styles from './Dropdown.module.scss';\nimport buttonStyles from './Button.module.scss';\nimport { cls } from '../cls';\n\nexport interface DropdownOption {\n  key: React.ReactText;\n  type?: 'separator' | 'button';\n  label?: React.ReactNode;\n  onClick?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n}\n\nexport interface DropdownProps {\n  className?: string;\n  menuClassName?: string;\n  searchable?: boolean;\n  options: DropdownOption[];\n  children: React.ReactNode;\n}\n\nconst stopPropagation = (\n  e: React.MouseEvent | React.TouchEvent | React.KeyboardEvent\n) => {\n  e.stopPropagation();\n};\n\nexport const Dropdown: React.FC<DropdownProps> = ({\n  children,\n  options,\n  className,\n  menuClassName,\n  searchable = false\n}) => {\n  const [open, setOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const toggle = useCallback(() => {\n    setOpen(open => !open);\n    setSearch('');\n  }, [setOpen, setSearch]);\n  const close = useCallback(() => {\n    setOpen(false);\n    setSearch('');\n  }, [setOpen, setSearch]);\n\n  useEffect(() => {\n    window.addEventListener('mousedown', close);\n    window.addEventListener('touchstart', close);\n\n    return () => {\n      window.removeEventListener('mousedown', close);\n      window.removeEventListener('touchstart', close);\n    };\n  }, [close]);\n\n  return (\n    <button\n      onClick={toggle}\n      className={cls(\n        buttonStyles.button,\n        styles.button,\n        {\n          [buttonStyles.active]: open\n        },\n        className\n      )}\n    >\n      {children}\n      <div\n        className={cls(\n          styles.dropdown,\n          {\n            [styles.open]: open\n          },\n          menuClassName\n        )}\n        onMouseDown={stopPropagation}\n        onTouchStart={stopPropagation}\n      >\n        {searchable && (\n          <div className={styles.search} onClick={stopPropagation}>\n            <input\n              type=\"search\"\n              placeholder=\"Search...\"\n              value={search}\n              onChange={e => setSearch(e.target.value)}\n            />\n          </div>\n        )}\n        {options\n          .filter(\n            option =>\n              search === '' ||\n              option.label\n                ?.toString()\n                .toLowerCase()\n                .includes(search.toLowerCase())\n          )\n          .map(option => {\n            if (option.type === 'separator') {\n              return <div className={styles.separator} key={option.key}></div>;\n            }\n\n            return (\n              <button\n                className={cls(buttonStyles.button, styles.option)}\n                key={option.key}\n                onClick={option.onClick}\n              >\n                {option.label}\n              </button>\n            );\n          })}\n      </div>\n    </button>\n  );\n};\n","import React, { ReactNode, useMemo } from 'react';\nimport { cls } from '../cls';\n\nimport styles from './index.module.scss';\n\nconst defaultFontFamily =\n  \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\";\n\nexport interface StatusbarTheme {\n  primaryColor: string;\n  backgroundColor: string;\n  fontFamily?: string;\n}\n\nexport interface StatusbarProps {\n  theme?: 'dark' | 'light' | StatusbarTheme;\n  height?: string;\n  className?: string;\n  left?: ReactNode;\n  right?: ReactNode;\n  placement?: 'bottom' | 'block';\n}\n\nexport const Statusbar: React.FC<StatusbarProps> = ({\n  theme = 'dark',\n  height,\n  left,\n  right,\n  className,\n  placement = 'bottom'\n}) => {\n  const style = useMemo<any>(() => {\n    const styles: any = {\n      height\n    };\n\n    switch (theme) {\n      case 'dark':\n        return {\n          ...styles,\n          '--statusbar-primary-color': '#eee',\n          '--statusbar-background-color': '#333',\n          '--statusbar-font-family': defaultFontFamily\n        };\n      case 'light':\n        return {\n          ...styles,\n          '--statusbar-primary-color': '#111',\n          '--statusbar-background-color': '#ddd',\n          '--statusbar-font-family': defaultFontFamily\n        };\n      default:\n        return {\n          ...styles,\n          '--statusbar-primary-color': theme.primaryColor,\n          '--statusbar-background-color': theme.backgroundColor,\n          '--statusbar-font-family': theme.fontFamily ?? defaultFontFamily\n        };\n    }\n  }, [theme, height]);\n\n  return (\n    <div\n      className={cls(\n        styles.statusbar,\n        styles['placement-' + placement],\n        className\n      )}\n      style={style}\n    >\n      <div className={styles.items}>{left}</div>\n      <div className={styles.items}>{right}</div>\n    </div>\n  );\n};\n\nexport * from './Button';\nexport * from './Dropdown';\nexport * from './Label';\nexport * from './Progress';\n","import React from 'react';\nimport { cls } from '../cls';\n\nimport styles from './Button.module.scss';\n\nexport type ButtonProps = React.DetailedHTMLProps<\n  React.ButtonHTMLAttributes<HTMLButtonElement>,\n  HTMLButtonElement\n>;\n\nexport const Button: React.FC<ButtonProps> = props => {\n  return <button {...props} className={cls(styles.button, props.className)} />;\n};\n","import React from 'react';\nimport { cls } from '../cls';\n\nimport styles from './Label.module.scss';\n\nexport interface LabelProps {\n  className?: string;\n  children: React.ReactNode;\n}\n\nexport const Label: React.FC<LabelProps> = ({ className, children }) => {\n  return <div className={cls(styles.label, className)}>{children}</div>;\n};\n","import React, { ReactNode, useMemo } from 'react';\n\nimport styles from './Progress.module.scss';\nimport { cls } from '../cls';\n\nexport interface ProgressProps {\n  className?: string;\n  label?: ReactNode;\n  value?: number;\n  max?: number;\n  width?: number;\n}\n\nexport const Progress: React.FC<ProgressProps> = ({\n  className,\n  value,\n  max,\n  label,\n  width\n}) => {\n  const percent = useMemo(\n    () =>\n      typeof value !== 'undefined' && max ? (value / max) * 100 : undefined,\n    [value, max]\n  );\n\n  return (\n    <div className={cls(styles.progress, className)} style={{ width }}>\n      <div className={styles.bar}>\n        <div\n          className={cls(styles.fill, {\n            [styles.marquee]: typeof percent === 'undefined'\n          })}\n          style={\n            typeof percent !== 'undefined'\n              ? { width: percent + '%' }\n              : undefined\n          }\n        ></div>\n        {typeof label !== 'undefined' && (\n          <div className={styles.label}>{label}</div>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"names":["cls","result","classNames","item","Object","keys","key","stopPropagation","e","defaultFontFamily","props","React","className","children","options","menuClassName","searchable","useState","open","setOpen","search","setSearch","toggle","useCallback","close","useEffect","window","addEventListener","removeEventListener","onClick","onMouseDown","onTouchStart","type","placeholder","value","onChange","target","filter","option","label","_option$label","toString","toLowerCase","includes","map","max","width","percent","useMemo","style","theme","height","left","right","placement","styles","primaryColor","backgroundColor","fontFamily","statusbar","items"],"mappings":"4WAAgBA,YAGVC,EAAS,sBAFVC,2BAAAA,gCAIgBA,iBAAY,KAApBC,UACJA,KAIe,iBAATA,gBAKOC,OAAOC,KAAKF,kBAAO,KAA1BG,YACLH,EAAKG,KACPL,GAAUK,EAAM,UANlBL,GAAUE,EAAO,WAWdF,gJCDHM,EAAkB,SACtBC,GAEAA,EAAED,mBCnBEE,EACJ,6ICI2C,SAAAC,UACpCC,0CAAYD,GAAOE,UAAWZ,gCAAmBU,EAAME,gCFgBf,oBAC/CC,IAAAA,SACAC,IAAAA,QACAF,IAAAA,UACAG,IAAAA,kBACAC,WAAAA,kBAEwBC,eAAjBC,OAAMC,SACeF,WAAS,IAA9BG,OAAQC,OACTC,EAASC,0BACbJ,YAAQD,UAASA,KACjBG,EAAU,MACT,CAACF,EAASE,IACPG,EAAQD,0BACZJ,MACAE,EAAU,MACT,CAACF,EAASE,WAEbI,+BACEC,OAAOC,iBAAiB,YAAaH,GACrCE,OAAOC,iBAAiB,aAAcH,GAE/B,WACLE,OAAOE,oBAAoB,YAAaJ,GACxCE,OAAOE,oBAAoB,aAAcJ,MAE1C,CAACA,IAGFb,0BACEkB,QAASP,EACTV,UAAWZ,uGAIgBkB,KAEzBN,IAGDC,EACDF,uBACEC,UAAWZ,2EAGQkB,KAEjBH,GAEFe,YAAavB,EACbwB,aAAcxB,GAEbS,GACCL,uBAAKC,0CAA0BiB,QAAStB,GACtCI,yBACEqB,KAAK,SACLC,YAAY,YACZC,MAAOd,EACPe,SAAU,SAAA3B,UAAKa,EAAUb,EAAE4B,OAAOF,WAIvCpB,EACEuB,iBACCC,eACa,KAAXlB,aACAkB,EAAOC,cAAPC,EACIC,WACDC,cACAC,SAASvB,EAAOsB,mBAEtBE,cAAIN,SACiB,cAAhBA,EAAON,KACFrB,uBAAKC,6CAA6BN,IAAKgC,EAAOhC,MAIrDK,0BACEC,UAAWZ,iEACXM,IAAKgC,EAAOhC,IACZuB,QAASS,EAAOT,SAEfS,EAAOC,2BGnGmB,gBAAc1B,IAAAA,gBAChDF,uBAAKC,UAAWZ,gCADqBY,YACUC,qBCEP,kBAC/CD,IAAAA,UACAsB,IAAAA,MACAW,IAAAA,IACAN,IAAAA,MACAO,IAAAA,MAEMC,EAAUC,sCAELd,GAAyBW,EAAOX,EAAQW,EAAO,aACxD,CAACX,EAAOW,WAIRlC,uBAAKC,UAAWZ,oCAAqBY,GAAYqC,MAAO,CAAEH,MAAAA,IACxDnC,uBAAKC,wCACHD,uBACEC,UAAWZ,mFACgB+C,MAE3BE,eACSF,EACH,CAAED,MAAOC,EAAU,uBAInBR,GACN5B,uBAAKC,0CAA0B2B,wBHjBU,oBACjDW,MAAAA,aAAQ,SACRC,IAAAA,OACAC,IAAAA,KACAC,IAAAA,MACAzC,IAAAA,cACA0C,UAAAA,aAAY,WAENL,EAAQD,4BACNO,EAAc,CAClBJ,OAAAA,UAGMD,OACD,mBAEEK,+BAC0B,sCACG,iCACL9C,QAE1B,oBAEE8C,+BAC0B,sCACG,iCACL9C,wBAIxB8C,+BAC0BL,EAAMM,4CACHN,EAAMO,mDACXP,EAAMQ,cAAcjD,OAGpD,CAACyC,EAAOC,WAGTxC,uBACEC,UAAWZ,EACTuD,EAAOI,UACPJ,EAAO,aAAeD,GACtB1C,GAEFqC,MAAOA,GAEPtC,uBAAKC,UAAW2C,EAAOK,OAAQR,GAC/BzC,uBAAKC,UAAW2C,EAAOK,OAAQP"}